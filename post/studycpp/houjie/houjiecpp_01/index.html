<!DOCTYPE html>
<html>
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>[Cpp]侯捷——头文件、类 - 云居小栈</title>
<meta name="description" content="发布日期：2020年07月23日 子时  ">
<meta name="generator" content="Hugo 0.73.0" />
<link href="https://894276610.github.io//index.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://894276610.github.io/post/studycpp/houjie/houjiecpp_01/">
<link rel="stylesheet" href="https://894276610.github.io/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://894276610.github.io/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="https://894276610.github.io/js/bundle.js"></script><style>
:root {}
</style>
<meta property="og:title" content="[Cpp]侯捷——头文件、类" />
<meta property="og:description" content="数据与函数 Class的两个经典分类 C&#43;&#43; 代码的基本形式 头文件 构造函数放在 private 区域  数据与函数 C 语言中全局数据， 所有函数可以处理它，会产生一些问题
C&#43;&#43; 具有封装的特性，数据和函数包在一起，创建对象，处理这些数据
Class的两个经典分类 带有指针的类（字符串）
成员属性：字符
成员方法：拷贝、插入、附加、输出 创建方式： complex c1(1,2); complex c2; complex* pc = new complex(0,1); 不带指针的类（复数） 多半比用写析构函数 成员属性：实部、虚部 成员方法： 四则运算，共轭正弦 创建方式： string s1(&ldquo;Hello&rdquo;); string s2(&ldquo;World&rdquo;); string* ps = new string;
C&#43;&#43; 代码的基本形式  Classes Declaration (header files) Standard Library (header files) .cpp  #include #include&quot;complex.h&rdquo; ex. main()    延伸扩展名不一定是.h 或 .cpp
#include&lt;iostream.h&gt; &mdash;&mdash;&gt; #include&lt;iostream&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://894276610.github.io/post/studycpp/houjie/houjiecpp_01/" />
<meta property="article:published_time" content="2020-07-19T16:49:29+08:00" />
<meta property="article:modified_time" content="2020-07-19T16:49:29+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Cpp]侯捷——头文件、类"/>
<meta name="twitter:description" content="数据与函数 Class的两个经典分类 C&#43;&#43; 代码的基本形式 头文件 构造函数放在 private 区域  数据与函数 C 语言中全局数据， 所有函数可以处理它，会产生一些问题
C&#43;&#43; 具有封装的特性，数据和函数包在一起，创建对象，处理这些数据
Class的两个经典分类 带有指针的类（字符串）
成员属性：字符
成员方法：拷贝、插入、附加、输出 创建方式： complex c1(1,2); complex c2; complex* pc = new complex(0,1); 不带指针的类（复数） 多半比用写析构函数 成员属性：实部、虚部 成员方法： 四则运算，共轭正弦 创建方式： string s1(&ldquo;Hello&rdquo;); string s2(&ldquo;World&rdquo;); string* ps = new string;
C&#43;&#43; 代码的基本形式  Classes Declaration (header files) Standard Library (header files) .cpp  #include #include&quot;complex.h&rdquo; ex. main()    延伸扩展名不一定是.h 或 .cpp
#include&lt;iostream.h&gt; &mdash;&mdash;&gt; #include&lt;iostream&gt;"/>
<meta itemprop="name" content="[Cpp]侯捷——头文件、类">
<meta itemprop="description" content="数据与函数 Class的两个经典分类 C&#43;&#43; 代码的基本形式 头文件 构造函数放在 private 区域  数据与函数 C 语言中全局数据， 所有函数可以处理它，会产生一些问题
C&#43;&#43; 具有封装的特性，数据和函数包在一起，创建对象，处理这些数据
Class的两个经典分类 带有指针的类（字符串）
成员属性：字符
成员方法：拷贝、插入、附加、输出 创建方式： complex c1(1,2); complex c2; complex* pc = new complex(0,1); 不带指针的类（复数） 多半比用写析构函数 成员属性：实部、虚部 成员方法： 四则运算，共轭正弦 创建方式： string s1(&ldquo;Hello&rdquo;); string s2(&ldquo;World&rdquo;); string* ps = new string;
C&#43;&#43; 代码的基本形式  Classes Declaration (header files) Standard Library (header files) .cpp  #include #include&quot;complex.h&rdquo; ex. main()    延伸扩展名不一定是.h 或 .cpp
#include&lt;iostream.h&gt; &mdash;&mdash;&gt; #include&lt;iostream&gt;">
<meta itemprop="datePublished" content="2020-07-19T16:49:29&#43;08:00" />
<meta itemprop="dateModified" content="2020-07-19T16:49:29&#43;08:00" />
<meta itemprop="wordCount" content="316">



<meta itemprop="keywords" content="Cpp," /></head>
<body><div class="container"><header>
<h1>云居小栈</h1>
<a href="https://github.com/894276610/894276610.github.io" class="github"><i class="fab fa-github"></i></a>
<p class="description">发布日期：2020年07月23日 子时  </p>

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="/todo/">My Todo List</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>[Cpp]侯捷——头文件、类</h1>
<!-- raw HTML omitted -->
<ul>
<li><a href="#%E6%95%B0%E6%8D%AE%E4%B8%8E%E5%87%BD%E6%95%B0">数据与函数</a></li>
<li><a href="#class%E7%9A%84%E4%B8%A4%E4%B8%AA%E7%BB%8F%E5%85%B8%E5%88%86%E7%B1%BB">Class的两个经典分类</a></li>
<li><a href="#c-%E4%BB%A3%E7%A0%81%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%BD%A2%E5%BC%8F">C++ 代码的基本形式</a></li>
<li><a href="#%E5%A4%B4%E6%96%87%E4%BB%B6">头文件</a></li>
<li><a href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%94%BE%E5%9C%A8-private-%E5%8C%BA%E5%9F%9F">构造函数放在 private 区域</a></li>
</ul>
<!-- raw HTML omitted -->
<h2 id="数据与函数">数据与函数</h2>
<p>C 语言中全局数据， 所有函数可以处理它，会产生一些问题<br>
C++ 具有封装的特性，数据和函数包在一起，创建对象，处理这些数据</p>
<h2 id="class的两个经典分类">Class的两个经典分类</h2>
<p>带有指针的类（字符串）<br>
成员属性：字符<br>
成员方法：拷贝、插入、附加、输出
创建方式： complex c1(1,2);
complex c2;
complex* pc = new complex(0,1);
不带指针的类（复数）
多半比用写析构函数
成员属性：实部、虚部
成员方法： 四则运算，共轭正弦
创建方式： string s1(&ldquo;Hello&rdquo;);
string s2(&ldquo;World&rdquo;);
string* ps = new string;</p>
<h2 id="c-代码的基本形式">C++ 代码的基本形式</h2>
<ul>
<li>Classes Declaration (header files)</li>
<li>Standard Library (header files)</li>
<li>.cpp
<ul>
<li>#include<!-- raw HTML omitted --></li>
<li>#include&quot;complex.h&rdquo;</li>
<li>ex. main()</li>
</ul>
</li>
</ul>
<p>延伸扩展名不一定是.h 或 .cpp<br>
<code>#include&lt;iostream.h&gt;</code> &mdash;&mdash;&gt; <code>#include&lt;iostream&gt;</code><br>
<code>#include&lt;stdio.h&gt;</code>&mdash;&mdash;&gt;<code>#include&lt;cstdio&gt;</code></p>
<h2 id="头文件">头文件</h2>
<ul>
<li>防御式声明
<ul>
<li>#ifndef <em><strong>COMPLEX</strong></em></li>
<li>#define <em><strong>COMPLEX</strong></em></li>
<li>#endif</li>
</ul>
</li>
<li>头文件布局
<ul>
<li>布局 [0] &ldquo;forward declaration&rdquo;</li>
<li>布局 [1] &ldquo;class declarations&rdquo;</li>
<li>布局 [2] &ldquo;class definition&rdquo;</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">// 防御式声明
</span><span style="color:#75715e"></span><span style="color:#75715e">#ifndef ___COMPLEX___
</span><span style="color:#75715e">#define ___COMPLEX___  
</span><span style="color:#75715e"></span><span style="color:#75715e">// 布局 [0] &#34;forward declaration&#34;  
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ostream</span>;
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">complex</span>;

complex<span style="color:#f92672">&amp;</span>
___doapl (complex<span style="color:#f92672">*</span> ths, <span style="color:#66d9ef">const</span> complex<span style="color:#f92672">&amp;</span> r);
<span style="color:#75715e">// 布局 [1] &#34;class declarations&#34; 
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">complex</span>{
<span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">double</span> re, im;
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#75715e">//Constructor 
</span><span style="color:#75715e"></span>    complex(<span style="color:#66d9ef">double</span> r <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">double</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> )  <span style="color:#75715e">//默认参数
</span><span style="color:#75715e"></span>    <span style="color:#f92672">:</span> re (r) , im (i)                     <span style="color:#75715e">//初始化
</span><span style="color:#75715e"></span>    {}  

    <span style="color:#75715e">// pass by reference to const 不可以更改引用数据内容
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// return by reference
</span><span style="color:#75715e"></span>    complex<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+=</span> (<span style="color:#66d9ef">const</span> complex<span style="color:#f92672">&amp;</span>);

     <span style="color:#75715e">//不会改变数据内容的函数，加上const
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">real</span> () <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> re; }  

    <span style="color:#75715e">//Overload &#34;real&#34; method
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//The method name after compiling is different from another  
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">void</span>   <span style="color:#a6e22e">real</span> (<span style="color:#66d9ef">double</span> r) {re <span style="color:#f92672">=</span> r;}

    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">imag</span> () <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> im; }  

    <span style="color:#66d9ef">friend</span> complex<span style="color:#f92672">&amp;</span>___doapl (complex<span style="color:#f92672">*</span> , <span style="color:#66d9ef">const</span> complex<span style="color:#f92672">&amp;</span>);
};

<span style="color:#75715e">/* Instantiation
</span><span style="color:#75715e">complex c1(2,3);
</span><span style="color:#75715e">complex c2;
</span><span style="color:#75715e">//此对象数据不可更改
</span><span style="color:#75715e">const complex c3(3,3);
</span><span style="color:#75715e">*/</span>

<span style="color:#75715e">// Consider using class template
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/*
</span><span style="color:#75715e">template&lt;typename T&gt;
</span><span style="color:#75715e">class complex{
</span><span style="color:#75715e">private:
</span><span style="color:#75715e">    T re, im;
</span><span style="color:#75715e">public:
</span><span style="color:#75715e">    complex(T r = 0, T i = 0 )  
</span><span style="color:#75715e">    : re (r) , im (i)
</span><span style="color:#75715e">    {}  
</span><span style="color:#75715e">    complex&amp; operator += (const complex&amp;);
</span><span style="color:#75715e">    T real () const { return re; } 
</span><span style="color:#75715e">    T imag () const { return im; }  
</span><span style="color:#75715e">
</span><span style="color:#75715e">    friend complex&amp;___doapl (complex* , const complex&amp;);
</span><span style="color:#75715e">};
</span><span style="color:#75715e">*/</span>

<span style="color:#75715e">/* 使用模板类的实例化
</span><span style="color:#75715e">
</span><span style="color:#75715e">complex&lt;double&gt; c1(2.5 , 1.5);
</span><span style="color:#75715e">complex&lt;int&gt; c2(3,6);
</span><span style="color:#75715e">*/</span>

<span style="color:#75715e">// 布局 [2] &#34;class definition&#34;  
</span><span style="color:#75715e"></span>complex<span style="color:#f92672">::</span>function ...
<span style="color:#75715e">#endif
</span></code></pre></div><h2 id="构造函数放在-private-区域">构造函数放在 private 区域</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">//设计模式 Singleton  
</span><span style="color:#75715e">//单体 外界只能用一份
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>{
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">static</span> A<span style="color:#f92672">&amp;</span> getInstance();
    setup(){......}
<span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>  
    A();
    A(<span style="color:#66d9ef">const</span> A<span style="color:#f92672">&amp;</span> rhs);  
    ......
};

A<span style="color:#f92672">&amp;</span> A<span style="color:#f92672">::</span>gitInstance(){
    <span style="color:#66d9ef">static</span> A a;
    <span style="color:#66d9ef">return</span> A;
}

</code></pre></div><p>参考资料：<br>
[1]<a href="https://www.bilibili.com/video/BV1844118771?p=4">C++系统工程师（适合有一定基础）</a></p>
<div class="edit-meta">
Last updated on 19 Jul 2020


<br>
Published on 19 Jul 2020
<br><a href="https://github.com/894276610/894276610.github.io/edit/master/content/post%5cStudyCpp%5cHouJie%5cHouJieCpp_01.md" class="edit-page"><i class="fas fa-pen-square"></i> Edit on GitHub</a></div><nav class="pagination"><a class="nav nav-prev" href="https://894276610.github.io/post/" title="Posts"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - Posts</a>
<a class="nav nav-next" href="https://894276610.github.io/studycpp/" title="StudyCpps">Next - StudyCpps <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<nav class="slide-menu">
<ul>
<li class=""><a href="https://894276610.github.io/">Home</a></li>

<li class=" has-sub-menu"><a href="https://894276610.github.io/studycpp/">StudyCpps<span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://894276610.github.io/studycpp/houjie/houjiecpp_02/">[Cpp] P6-P8 </a></li>
<li class=""><a href="https://894276610.github.io/studycpp/houjie/houjiecpp_03/">[Cpp] P9 </a></li>
<li class=""><a href="https://894276610.github.io/studycpp/houjie/houjiecpp_01/">[Cpp] P1-P5 complex </a></li>
<li class=""><a href="https://894276610.github.io/studycpp/book01/">[Cpp]Book_List</a></li>
<li class=""><a href="https://894276610.github.io/studycpp/details/">[Cpp]琐碎细节-待续</a></li>
<li class=""><a href="https://894276610.github.io/studycpp/overload_operator/">[Cpp]Overload_operator</a></li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://894276610.github.io/guyuero/">GuYueRos<span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://894276610.github.io/guyuero/21-summary/">[21]Summary</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/20-visual-aids/">[20]Visual aids</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/19-launch-file/">[19]launch file</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/18-broadcaster-and-listener/">[18]Broadcaster and listener</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/17-transformation/">[17]Transformation</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/16-parameters/">[16]Parameters</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/15-define-service/">[15]define service</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/14-server/">[14]Server</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/13-client/">[13]Client</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/12-topic-define/">[12]Topic define</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/12&#43;topic-define/">[12]Topic_define&#43;</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/11-subscriber/">[11]Subscriber</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/10-publisher/">[10]Publisher</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/09-workspace-and-package/">[9]Workspace and package</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/05-install-ros/">[5]Install Ros</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/08-ros-command-line/">[8]Ros Command Line</a></li>
<li class=""><a href="https://894276610.github.io/guyuero/07-ros-concept/">[7]Ros Concept</a></li>
</ul>
  
</li>



<li class=" has-sub-menu"><a href="https://894276610.github.io/extrathing/">ExtraThings<span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://894276610.github.io/extrathing/titlephoto/">[花絮]头像制作思路</a></li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://894276610.github.io/createblog/">CreateBlogs<span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://894276610.github.io/createblog/markdownlanguage/">Markdown_basic</a></li>
<li class=""><a href="https://894276610.github.io/createblog/hugo_try/">HUGO</a></li>
<li class=""><a href="https://894276610.github.io/createblog/firstblog/">Bolg</a></li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://894276610.github.io/introduction_to_robotics/">Introduction_to_robotics<span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://894276610.github.io/introduction_to_robotics/introduction/">[Robotics]Books</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
